import{s as U,z as F,A as ie,B as Fe,C as Ue,D as qe,E as Ye,ae as Be,e as w,a as M,t as W,c as E,b as I,f as b,g as B,d as L,m as y,i as A,h as v,u as we,n as G,y as ot,Q as Ke,v as Ee,j as de,x as Ie,p as it,q as Ce,M as he,ad as pe,k as x,Y as ut,a8 as ct,l as ft,W as _e,w as dt}from"../chunks/scheduler.Hj4Qi98n.js";import{S as q,i as Y,b as C,d as N,m as S,a as k,t as V,e as H,h as ve,g as Q,c as J,f as ge,n as mt,l as ht,j as $e}from"../chunks/index.UhkZy2tN.js";import{b as Re,s as te,R as Qe,c as ue}from"../chunks/BackgroundMask.svelte_svelte_type_style_lang.j6j5-4Xz.js";import{v as pt,w as _t,x as vt,y as gt,z as ce,k as $t,l as bt,A as kt,B as yt,s as wt,C as Et}from"../chunks/messages.qmSQo3AB.js";import{w as me}from"../chunks/entry.y-iIsHZA.js";import"../chunks/i18n._lellW_C.js";import{T as It}from"../chunks/Tabs._qcVFDKv.js";import{g as Je,a as Xe,e as re}from"../chunks/ButtonGroup.svelte_svelte_type_style_lang.SOLwJ6Wp.js";import{B as fe}from"../chunks/Button.sndXQ00s.js";import{F as De,M as Rt}from"../chunks/FeaturedIcon.GkCpzFNo.js";import{B as Ze}from"../chunks/BackgroundPatternDecorative.daMewbh-.js";import{I as xe}from"../chunks/Icon.oZMLMHqV.js";import{B as Dt}from"../chunks/Badge.pZa3rZKU.js";import{T as Vt,B as Tt}from"../chunks/trophy.J85q5cNm.js";const be=me(0),Pt={rounds:3},Mt=me(Pt);function Bt(n){let e;const r=n[2].default,t=Fe(r,n,n[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Ue(t,r,l,l[3],e?Ye(r,l[3],s,null):qe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){V(t,l),e=!1},d(l){t&&t.d(l)}}}function Ct(n){let e,r;const t=[{name:"lightbulb"},n[1],{iconNode:n[0]}];let l={$$slots:{default:[Bt]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)l=F(l,t[s]);return e=new xe({props:l}),{c(){C(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,a){S(e,s,a),r=!0},p(s,[a]){const o=a&3?Je(t,[t[0],a&2&&Xe(s[1]),a&1&&{iconNode:s[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){r||(k(e.$$.fragment,s),r=!0)},o(s){V(e.$$.fragment,s),r=!1},d(s){H(e,s)}}}function Nt(n,e,r){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}],["path",{d:"M9 18h6"}],["path",{d:"M10 22h4"}]];return n.$$set=a=>{r(1,e=F(F({},e),ie(a))),"$$scope"in a&&r(3,l=a.$$scope)},e=ie(e),[s,e,t,l]}class St extends q{constructor(e){super(),Y(this,e,Nt,Ct,U,{})}}const et=St;function tt(n){const e=n-1;return e*e*e+1}function ee(n,{delay:e=0,duration:r=400,easing:t=tt,x:l=0,y:s=0,opacity:a=0}={}){const o=getComputedStyle(n),u=+o.opacity,c=o.transform==="none"?"":o.transform,d=u*(1-a),[p,_]=Be(l),[i,f]=Be(s);return{delay:e,duration:r,easing:t,css:(m,$)=>`
			transform: ${c} translate(${(1-m)*p}${_}, ${(1-m)*i}${f});
			opacity: ${u-d*$}`}}function Ht(n){let e,r,t,l,s,a,o,u,c,d,p,_=vt()+"",i,f,m,$=gt()+"",g,h,R,T,D,P,O,z,K,X,ne;return s=new De({props:{size:"xl",icon:et,type:"modern"}}),u=new Ze({props:{type:"grid",size:"md",style:"position: absolute; translate: -50% -50%"}}),D=new fe({props:{disabled:!0,hierarchy:"secondary-gray",text:pt()}}),D.$on("click",n[0]),O=new fe({props:{hierarchy:"primary",text:_t()}}),O.$on("click",n[1]),{c(){e=w("div"),r=w("div"),t=w("div"),l=w("div"),C(s.$$.fragment),a=M(),o=w("div"),C(u.$$.fragment),c=M(),d=w("div"),p=w("h2"),i=W(_),f=M(),m=w("h4"),g=W($),R=M(),T=w("div"),C(D.$$.fragment),P=M(),C(O.$$.fragment),this.h()},l(j){e=E(j,"DIV",{class:!0});var se=I(e);r=E(se,"DIV",{class:!0});var le=I(r);t=E(le,"DIV",{class:!0});var Z=I(t);l=E(Z,"DIV",{class:!0});var Ve=I(l);N(s.$$.fragment,Ve),Ve.forEach(b),a=B(Z),o=E(Z,"DIV",{class:!0});var Te=I(o);N(u.$$.fragment,Te),Te.forEach(b),c=B(Z),d=E(Z,"DIV",{class:!0});var ae=I(d);p=E(ae,"H2",{class:!0});var Pe=I(p);i=L(Pe,_),Pe.forEach(b),f=B(ae),m=E(ae,"H4",{class:!0});var Me=I(m);g=L(Me,$),Me.forEach(b),ae.forEach(b),Z.forEach(b),R=B(le),T=E(le,"DIV",{class:!0});var oe=I(T);N(D.$$.fragment,oe),P=B(oe),N(O.$$.fragment,oe),oe.forEach(b),le.forEach(b),se.forEach(b),this.h()},h(){y(l,"class","featuredIconBg svelte-1cv6bcp"),y(o,"class","bg svelte-1cv6bcp"),y(p,"class","svelte-1cv6bcp"),y(m,"class","svelte-1cv6bcp"),y(d,"class","allText svelte-1cv6bcp"),y(t,"class","content svelte-1cv6bcp"),y(T,"class","actions svelte-1cv6bcp"),y(r,"class","emptyState svelte-1cv6bcp"),y(e,"class","emptyRound svelte-1cv6bcp")},m(j,se){A(j,e,se),v(e,r),v(r,t),v(t,l),S(s,l,null),v(t,a),v(t,o),S(u,o,null),v(t,c),v(t,d),v(d,p),v(p,i),v(d,f),v(d,m),v(m,g),v(r,R),v(r,T),S(D,T,null),v(T,P),S(O,T,null),K=!0,X||(ne=we(d,"outroend",n[3]),X=!0)},p:G,i(j){K||(k(s.$$.fragment,j),k(u.$$.fragment,j),h&&h.end(1),k(D.$$.fragment,j),k(O.$$.fragment,j),z&&z.end(1),K=!0)},o(j){V(s.$$.fragment,j),V(u.$$.fragment,j),j&&(h=ve(d,ee,{delay:50,duration:500,y:20})),V(D.$$.fragment,j),V(O.$$.fragment,j),j&&(z=ve(T,ee,{duration:500,y:40})),K=!1},d(j){j&&b(e),H(s),H(u),j&&h&&h.end(),H(D),H(O),j&&z&&z.end(),X=!1,ne()}}}function Ot(n,e,r){let{stHasOutro:t}=e;const l=ot();function s(){l("import")}function a(){l("generate")}Ke(()=>{t.set(!0)});function o(u){Ee.call(this,n,u)}return n.$$set=u=>{"stHasOutro"in u&&r(2,t=u.stHasOutro)},[s,a,t,o]}class jt extends q{constructor(e){super(),Y(this,e,Ot,Ht,U,{stHasOutro:2})}}function ke(n){const e=rt.find(r=>r.id===n);return e?e.firstName+" "+e.lastName:`PLAYER_${n}_MISSING`}let rt;Re.subscribe(n=>rt=n);function At(n){let e;const r=n[2].default,t=Fe(r,n,n[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Ue(t,r,l,l[3],e?Ye(r,l[3],s,null):qe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){V(t,l),e=!1},d(l){t&&t.d(l)}}}function zt(n){let e,r;const t=[{name:"crown"},n[1],{iconNode:n[0]}];let l={$$slots:{default:[At]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)l=F(l,t[s]);return e=new xe({props:l}),{c(){C(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,a){S(e,s,a),r=!0},p(s,[a]){const o=a&3?Je(t,[t[0],a&2&&Xe(s[1]),a&1&&{iconNode:s[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){r||(k(e.$$.fragment,s),r=!0)},o(s){V(e.$$.fragment,s),r=!1},d(s){H(e,s)}}}function Gt(n,e,r){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"}]];return n.$$set=a=>{r(1,e=F(F({},e),ie(a))),"$$scope"in a&&r(3,l=a.$$scope)},e=ie(e),[s,e,t,l]}class nt extends q{constructor(e){super(),Y(this,e,Gt,zt,U,{})}}function Ne(n,e,r){const t=n.slice();return t[3]=e[r],t[5]=r,t}function Se(n){let e,r,t;var l=nt;function s(a,o){return{props:{size:20}}}return l&&(e=it(l,s())),{c(){e&&C(e.$$.fragment),r=Ce()},l(a){e&&N(e.$$.fragment,a),r=Ce()},m(a,o){e&&S(e,a,o),A(a,r,o),t=!0},i(a){t||(e&&k(e.$$.fragment,a),t=!0)},o(a){e&&V(e.$$.fragment,a),t=!1},d(a){a&&b(r),e&&H(e,a)}}}function He(n){let e,r,t=n[5]+1+"",l,s,a,o,u=ke(n[3].id)+"",c,d,p,_,i,f,m,$,g=n[3].gw>0&&Se();return f=new Dt({props:{type:"pill-color",text:n[3].vp}}),{c(){e=w("div"),r=w("span"),l=W(t),s=W("º"),a=M(),o=w("span"),c=W(u),d=M(),p=w("div"),g&&g.c(),_=M(),i=w("span"),C(f.$$.fragment),m=M(),this.h()},l(h){e=E(h,"DIV",{class:!0});var R=I(e);r=E(R,"SPAN",{class:!0});var T=I(r);l=L(T,t),s=L(T,"º"),T.forEach(b),a=B(R),o=E(R,"SPAN",{class:!0});var D=I(o);c=L(D,u),D.forEach(b),d=B(R),p=E(R,"DIV",{class:!0});var P=I(p);g&&g.l(P),P.forEach(b),_=B(R),i=E(R,"SPAN",{class:!0});var O=I(i);N(f.$$.fragment,O),O.forEach(b),m=B(R),R.forEach(b),this.h()},h(){y(r,"class","playerPos svelte-1alcwkx"),y(o,"class","playerName svelte-1alcwkx"),y(p,"class","gwIcon svelte-1alcwkx"),y(i,"class","playerResult svelte-1alcwkx"),y(e,"class","player svelte-1alcwkx")},m(h,R){A(h,e,R),v(e,r),v(r,l),v(r,s),v(e,a),v(e,o),v(o,c),v(e,d),v(e,p),g&&g.m(p,null),v(e,_),v(e,i),S(f,i,null),v(e,m),$=!0},p(h,R){(!$||R&1)&&u!==(u=ke(h[3].id)+"")&&de(c,u),h[3].gw>0?g?R&1&&k(g,1):(g=Se(),g.c(),k(g,1),g.m(p,null)):g&&(Q(),V(g,1,1,()=>{g=null}),J());const T={};R&1&&(T.text=h[3].vp),f.$set(T)},i(h){$||(k(g),k(f.$$.fragment,h),$=!0)},o(h){V(g),V(f.$$.fragment,h),$=!1},d(h){h&&b(e),g&&g.d(),H(f)}}}function Wt(n){let e,r,t=ce({id:n[1]+1})+"",l,s,a,o,u,c,d=re(n[0].players),p=[];for(let i=0;i<d.length;i+=1)p[i]=He(Ne(n,d,i));const _=i=>V(p[i],1,1,()=>{p[i]=null});return{c(){e=w("button"),r=w("div"),l=W(t),s=M(),a=w("div");for(let i=0;i<p.length;i+=1)p[i].c();this.h()},l(i){e=E(i,"BUTTON",{class:!0});var f=I(e);r=E(f,"DIV",{class:!0});var m=I(r);l=L(m,t),m.forEach(b),s=B(f),a=E(f,"DIV",{class:!0});var $=I(a);for(let g=0;g<p.length;g+=1)p[g].l($);$.forEach(b),f.forEach(b),this.h()},h(){y(r,"class","header svelte-1alcwkx"),y(a,"class","content svelte-1alcwkx"),y(e,"class","roundTableCard svelte-1alcwkx")},m(i,f){A(i,e,f),v(e,r),v(r,l),v(e,s),v(e,a);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(a,null);o=!0,u||(c=we(e,"click",n[2]),u=!0)},p(i,[f]){if((!o||f&2)&&t!==(t=ce({id:i[1]+1})+"")&&de(l,t),f&1){d=re(i[0].players);let m;for(m=0;m<d.length;m+=1){const $=Ne(i,d,m);p[m]?(p[m].p($,f),k(p[m],1)):(p[m]=He($),p[m].c(),k(p[m],1),p[m].m(a,null))}for(Q(),m=d.length;m<p.length;m+=1)_(m);J()}},i(i){if(!o){for(let f=0;f<d.length;f+=1)k(p[f]);o=!0}},o(i){p=p.filter(Boolean);for(let f=0;f<p.length;f+=1)V(p[f]);o=!1},d(i){i&&b(e),Ie(p,i),u=!1,c()}}}function Lt(n,e,r){let{data:t}=e,{tableNum:l}=e;function s(a){Ee.call(this,n,a)}return n.$$set=a=>{"data"in a&&r(0,t=a.data),"tableNum"in a&&r(1,l=a.tableNum)},[t,l,s]}class Ft extends q{constructor(e){super(),Y(this,e,Lt,Wt,U,{data:0,tableNum:1})}}function Oe(n,e,r){const t=n.slice();t[15]=e[r],t[18]=r;const l=ke(t[15].id);return t[16]=l,t}function je(n){let e,r;return e=new nt({props:{size:20}}),{c(){C(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){S(e,t,l),r=!0},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){V(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function Ae(n){let e,r,t=n[16]+"",l,s,a,o,u,c,d,p,_,i=n[15].gw>0&&je();function f(...m){return n[10](n[18],...m)}return d=new Tt({props:{type:"color",items:n[6],value:n[15].vp}}),d.$on("change",f),{c(){e=w("div"),r=w("span"),l=W(t),a=M(),o=w("div"),i&&i.c(),u=M(),c=w("div"),C(d.$$.fragment),p=M(),this.h()},l(m){e=E(m,"DIV",{class:!0});var $=I(e);r=E($,"SPAN",{class:!0,title:!0});var g=I(r);l=L(g,t),g.forEach(b),a=B($),o=E($,"DIV",{class:!0});var h=I(o);i&&i.l(h),h.forEach(b),u=B($),c=E($,"DIV",{class:!0});var R=I(c);N(d.$$.fragment,R),R.forEach(b),p=B($),$.forEach(b),this.h()},h(){y(r,"class","playerName svelte-u3k7rk"),y(r,"title",s=n[16]),y(o,"class","gwIcon svelte-u3k7rk"),y(c,"class","vps svelte-u3k7rk"),y(e,"class","player svelte-u3k7rk")},m(m,$){A(m,e,$),v(e,r),v(r,l),v(e,a),v(e,o),i&&i.m(o,null),v(e,u),v(e,c),S(d,c,null),v(e,p),_=!0},p(m,$){n=m,(!_||$&8)&&t!==(t=n[16]+"")&&de(l,t),(!_||$&8&&s!==(s=n[16]))&&y(r,"title",s),n[15].gw>0?i?$&8&&k(i,1):(i=je(),i.c(),k(i,1),i.m(o,null)):i&&(Q(),V(i,1,1,()=>{i=null}),J());const g={};$&8&&(g.value=n[15].vp),d.$set(g)},i(m){_||(k(i),k(d.$$.fragment,m),_=!0)},o(m){V(i),V(d.$$.fragment,m),_=!1},d(m){m&&b(e),i&&i.d(),H(d)}}}function Ut(n){let e,r,t,l,s,a,o,u,c=re(n[3]??[]),d=[];for(let _=0;_<c.length;_+=1)d[_]=Ae(Oe(n,c,_));const p=_=>V(d[_],1,1,()=>{d[_]=null});return s=new fe({props:{hierarchy:"secondary-gray",text:$t()}}),s.$on("click",n[11]),o=new fe({props:{hierarchy:"primary",text:bt()}}),o.$on("click",n[12]),{c(){e=w("div");for(let _=0;_<d.length;_+=1)d[_].c();r=M(),t=w("div"),l=w("div"),C(s.$$.fragment),a=M(),C(o.$$.fragment),this.h()},l(_){e=E(_,"DIV",{class:!0});var i=I(e);for(let $=0;$<d.length;$+=1)d[$].l(i);i.forEach(b),r=B(_),t=E(_,"DIV",{class:!0});var f=I(t);l=E(f,"DIV",{class:!0});var m=I(l);N(s.$$.fragment,m),a=B(m),N(o.$$.fragment,m),m.forEach(b),f.forEach(b),this.h()},h(){y(e,"class","modalContent svelte-u3k7rk"),y(l,"class","content svelte-u3k7rk"),y(t,"class","modalActions svelte-u3k7rk")},m(_,i){A(_,e,i);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(e,null);A(_,r,i),A(_,t,i),v(t,l),S(s,l,null),v(l,a),S(o,l,null),u=!0},p(_,i){if(i&200){c=re(_[3]??[]);let f;for(f=0;f<c.length;f+=1){const m=Oe(_,c,f);d[f]?(d[f].p(m,i),k(d[f],1)):(d[f]=Ae(m),d[f].c(),k(d[f],1),d[f].m(e,null))}for(Q(),f=c.length;f<d.length;f+=1)p(f);J()}},i(_){if(!u){for(let i=0;i<c.length;i+=1)k(d[i]);k(s.$$.fragment,_),k(o.$$.fragment,_),u=!0}},o(_){d=d.filter(Boolean);for(let i=0;i<d.length;i+=1)V(d[i]);V(s.$$.fragment,_),V(o.$$.fragment,_),u=!1},d(_){_&&(b(e),b(r),b(t)),Ie(d,_),H(s),H(o)}}}function qt(n){let e,r,t,l,s,a,o=ce({id:n[1]+1})+"",u,c,d=kt()+"",p,_,i,f=yt()+"",m,$;return t=new De({props:{type:"modern",size:"md",icon:Vt}}),{c(){e=w("div"),r=w("div"),C(t.$$.fragment),l=M(),s=w("div"),a=w("h2"),u=W(o),c=W(" - "),p=W(d),_=M(),i=w("h4"),m=W(f),this.h()},l(g){e=E(g,"DIV",{class:!0,slot:!0});var h=I(e);r=E(h,"DIV",{class:!0});var R=I(r);N(t.$$.fragment,R),l=B(R),s=E(R,"DIV",{class:!0});var T=I(s);a=E(T,"H2",{class:!0});var D=I(a);u=L(D,o),c=L(D," - "),p=L(D,d),D.forEach(b),_=B(T),i=E(T,"H4",{class:!0});var P=I(i);m=L(P,f),P.forEach(b),T.forEach(b),R.forEach(b),h.forEach(b),this.h()},h(){y(a,"class","svelte-u3k7rk"),y(i,"class","svelte-u3k7rk"),y(s,"class","allText svelte-u3k7rk"),y(r,"class","content svelte-u3k7rk"),y(e,"class","modalHeader svelte-u3k7rk"),y(e,"slot","header")},m(g,h){A(g,e,h),v(e,r),S(t,r,null),v(r,l),v(r,s),v(s,a),v(a,u),v(a,c),v(a,p),v(s,_),v(s,i),v(i,m),$=!0},p(g,h){(!$||h&2)&&o!==(o=ce({id:g[1]+1})+"")&&de(u,o)},i(g){$||(k(t.$$.fragment,g),$=!0)},o(g){V(t.$$.fragment,g),$=!1},d(g){g&&b(e),H(t)}}}function Yt(n){let e,r,t,l;function s(u){n[13](u)}function a(u){n[14](u)}let o={size:"xl",$$slots:{header:[qt],default:[Ut]},$$scope:{ctx:n}};return n[0]!==void 0&&(o.showModal=n[0]),n[2]!==void 0&&(o.dialog=n[2]),e=new Rt({props:o}),he.push(()=>ge(e,"showModal",s)),he.push(()=>ge(e,"dialog",a)),e.$on("keypress",n[5]),{c(){C(e.$$.fragment)},l(u){N(e.$$.fragment,u)},m(u,c){S(e,u,c),l=!0},p(u,[c]){const d={};c&524302&&(d.$$scope={dirty:c,ctx:u}),!r&&c&1&&(r=!0,d.showModal=u[0],pe(()=>r=!1)),!t&&c&4&&(t=!0,d.dialog=u[2],pe(()=>t=!1)),e.$set(d)},i(u){l||(k(e.$$.fragment,u),l=!0)},o(u){V(e.$$.fragment,u),l=!1},d(u){H(e,u)}}}function Kt(n,e,r){let t,l;x(n,te,h=>r(9,l=h));let{showModal:s}=e,{idRound:a=-1}=e,{idTable:o=-1}=e,u;function c(){a!==-1&&o!==-1&&(te.updateTable(a,o,{state:Qe.Finished,players:t}),u.close())}function d(h){h.key==="Enter"&&c()}const p=[{text:"0",value:0},{text:"½",value:.5},{text:"1",value:1},{text:"1½",value:1.5},{text:"2",value:2},{text:"2½",value:2.5},{text:"3",value:3},{text:"3½",value:3.5},{text:"4",value:4},{text:"4½",value:4.5},{text:"5",value:5}];function _(h,R){r(3,t[h].vp=R,t);const T=t.map((P,O)=>({...P,idx:O})).sort((P,O)=>O.vp-P.vp);t.forEach(P=>{P.gw=0});const D=T[0];D.vp<2||D.vp!==T[1].vp&&r(3,t[D.idx].gw=1,t)}const i=(h,{detail:R})=>_(h,R),f=()=>u.close(),m=()=>c();function $(h){s=h,r(0,s)}function g(h){u=h,r(2,u)}return n.$$set=h=>{"showModal"in h&&r(0,s=h.showModal),"idRound"in h&&r(8,a=h.idRound),"idTable"in h&&r(1,o=h.idTable)},n.$$.update=()=>{var h,R;n.$$.dirty&770&&r(3,t=structuredClone((R=(h=l[a])==null?void 0:h.tables[o])==null?void 0:R.players))},[s,o,u,t,c,d,p,_,a,l,i,f,m,$,g]}class Qt extends q{constructor(e){super(),Y(this,e,Kt,Yt,U,{showModal:0,idRound:8,idTable:1})}}function Jt(n){return new Worker(""+new URL("../workers/worker-fbouhIcp.js",import.meta.url).href,{name:n==null?void 0:n.name})}function ze(n){return Object.prototype.toString.call(n)==="[object Date]"}function ye(n,e){if(n===e||n!==n)return()=>n;const r=typeof n;if(r!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const t=e.map((l,s)=>ye(n[s],l));return l=>t.map(s=>s(l))}if(r==="object"){if(!n||!e)throw new Error("Object cannot be null");if(ze(n)&&ze(e)){n=n.getTime(),e=e.getTime();const s=e-n;return a=>new Date(n+a*s)}const t=Object.keys(e),l={};return t.forEach(s=>{l[s]=ye(n[s],e[s])}),s=>{const a={};return t.forEach(o=>{a[o]=l[o](s)}),a}}if(r==="number"){const t=e-n;return l=>n+l*t}throw new Error(`Cannot interpolate ${r} values`)}function Xt(n,e={}){const r=me(n);let t,l=n;function s(a,o){if(n==null)return r.set(n=a),Promise.resolve();l=a;let u=t,c=!1,{delay:d=0,duration:p=400,easing:_=ut,interpolate:i=ye}=F(F({},e),o);if(p===0)return u&&(u.abort(),u=null),r.set(n=l),Promise.resolve();const f=mt()+d;let m;return t=ht($=>{if($<f)return!0;c||(m=i(n,a),typeof p=="function"&&(p=p(n,a)),c=!0),u&&(u.abort(),u=null);const g=$-f;return g>p?(r.set(n=a),!1):(r.set(n=m(_(g/p))),!0)}),t.promise}return{set:s,update:(a,o)=>s(a(l,n),o),subscribe:r.subscribe}}const st=new Jt,lt=Xt(0,{duration:100,easing:tt});function Zt(n){te.updateRound(n,{state:ue.Generating}),st.postMessage({round:n,players:ct(Re)})}st.onmessage=n=>{if(n.data.type==="cb")lt.set(n.data.percent);else if(n.data.type==="finish"){const{rounds:e,roundId:r}=n.data;xt(r,e[r])}};function xt(n,e){const r=e.map(t=>{const l=t.map(s=>({id:at[s].id,vp:0,gw:0}));return{state:Qe.Waiting,players:l}});te.updateRound(n,{state:ue.Generated,tables:r})}let at;Re.subscribe(n=>at=n);function er(n){let e,r,t,l,s,a,o,u,c,d,p='<h2 class="svelte-1cv6bcp">Calculando mesas ideais</h2> <h4 class="svelte-1cv6bcp">Aguarde alguns momentos...</h4>',_,i,f,m,$,g,h,R,T;return s=new De({props:{size:"xl",icon:et,type:"modern"}}),u=new Ze({props:{type:"grid",size:"md",style:"position: absolute; translate: -50% -50%"}}),{c(){e=w("div"),r=w("div"),t=w("div"),l=w("div"),C(s.$$.fragment),a=M(),o=w("div"),C(u.$$.fragment),c=M(),d=w("div"),d.innerHTML=p,i=M(),f=w("div"),m=w("progress"),this.h()},l(D){e=E(D,"DIV",{class:!0});var P=I(e);r=E(P,"DIV",{class:!0});var O=I(r);t=E(O,"DIV",{class:!0});var z=I(t);l=E(z,"DIV",{class:!0});var K=I(l);N(s.$$.fragment,K),K.forEach(b),a=B(z),o=E(z,"DIV",{class:!0});var X=I(o);N(u.$$.fragment,X),X.forEach(b),c=B(z),d=E(z,"DIV",{class:!0,"data-svelte-h":!0}),ft(d)!=="svelte-xekzps"&&(d.innerHTML=p),z.forEach(b),i=B(O),f=E(O,"DIV",{class:!0});var ne=I(f);m=E(ne,"PROGRESS",{}),I(m).forEach(b),ne.forEach(b),O.forEach(b),P.forEach(b),this.h()},h(){y(l,"class","featuredIconBg svelte-1cv6bcp"),y(o,"class","bg svelte-1cv6bcp"),y(d,"class","allText svelte-1cv6bcp"),y(t,"class","content svelte-1cv6bcp"),m.value=n[1],y(f,"class","actions svelte-1cv6bcp"),y(r,"class","emptyState svelte-1cv6bcp"),y(e,"class","emptyRound svelte-1cv6bcp")},m(D,P){A(D,e,P),v(e,r),v(r,t),v(t,l),S(s,l,null),v(t,a),v(t,o),S(u,o,null),v(t,c),v(t,d),v(r,i),v(r,f),v(f,m),h=!0,R||(T=we(e,"outroend",n[3]),R=!0)},p(D,[P]){(!h||P&2)&&(m.value=D[1])},i(D){h||(k(s.$$.fragment,D),k(u.$$.fragment,D),D&&(_||_e(()=>{_=$e(d,ee,{delay:50,duration:500,y:20}),_.start()})),D&&($||_e(()=>{$=$e(f,ee,{duration:500,y:40}),$.start()})),g&&g.end(1),h=!0)},o(D){V(s.$$.fragment,D),V(u.$$.fragment,D),D&&(g=ve(e,ee,{duration:500,y:-20})),h=!1},d(D){D&&b(e),H(s),H(u),D&&g&&g.end(),R=!1,T()}}}function tr(n,e,r){let t,l=G,s=()=>(l(),l=dt(o,c=>r(1,t=c)),o);n.$$.on_destroy.push(()=>l());let{stHasOutro:a}=e,{stProgress:o}=e;s(),Ke(()=>{a.set(!0)});function u(c){Ee.call(this,n,c)}return n.$$set=c=>{"stHasOutro"in c&&r(2,a=c.stHasOutro),"stProgress"in c&&s(r(0,o=c.stProgress))},[o,t,a,u]}class rr extends q{constructor(e){super(),Y(this,e,tr,er,U,{stHasOutro:2,stProgress:0})}}function Ge(n,e,r){const t=n.slice();return t[15]=e[r],t[17]=r,t}function nr(n){let e,r,t,l=re(n[1].tables),s=[];for(let o=0;o<l.length;o+=1)s[o]=We(Ge(n,l,o));const a=o=>V(s[o],1,1,()=>{s[o]=null});return{c(){e=w("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=E(o,"DIV",{class:!0});var u=I(e);for(let c=0;c<s.length;c+=1)s[c].l(u);u.forEach(b),this.h()},h(){y(e,"class","roundTables svelte-uvwohj")},m(o,u){A(o,e,u);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(o,u){if(u&130){l=re(o[1].tables);let c;for(c=0;c<l.length;c+=1){const d=Ge(o,l,c);s[c]?(s[c].p(d,u),k(s[c],1)):(s[c]=We(d),s[c].c(),k(s[c],1),s[c].m(e,null))}for(Q(),c=l.length;c<s.length;c+=1)a(c);J()}},i(o){if(!t){for(let u=0;u<l.length;u+=1)k(s[u]);o&&(r||_e(()=>{r=$e(e,ee,{duration:300,y:20}),r.start()})),t=!0}},o(o){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)V(s[u]);t=!1},d(o){o&&b(e),Ie(s,o)}}}function sr(n){let e,r;return e=new rr({props:{stHasOutro:n[5],stProgress:lt}}),e.$on("outroend",n[8]),{c(){C(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){S(e,t,l),r=!0},p:G,i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){V(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function lr(n){return{c:G,l:G,m:G,p:G,i:G,o:G,d:G}}function ar(n){let e,r;return e=new jt({props:{stHasOutro:n[5]}}),e.$on("generate",n[6]),e.$on("outroend",n[8]),{c(){C(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){S(e,t,l),r=!0},p:G,i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){V(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function We(n){let e,r;function t(){return n[10](n[17])}return e=new Ft({props:{data:n[15],tableNum:n[17]+1}}),e.$on("click",t),{c(){C(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,s){S(e,l,s),r=!0},p(l,s){n=l;const a={};s&2&&(a.data=n[15]),e.$set(a)},i(l){r||(k(e.$$.fragment,l),r=!0)},o(l){V(e.$$.fragment,l),r=!1},d(l){H(e,l)}}}function or(n){let e,r,t,l,s,a,o;const u=[ar,lr,sr,nr],c=[];function d(i,f){return i[4]===ue.Empty?0:i[4]==="transitioning"?1:i[4]===ue.Generating?2:3}r=d(n),t=c[r]=u[r](n);function p(i){n[11](i)}let _={idRound:n[0],idTable:n[3]};return n[2]!==void 0&&(_.showModal=n[2]),s=new Qt({props:_}),he.push(()=>ge(s,"showModal",p)),{c(){e=w("div"),t.c(),l=M(),C(s.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0});var f=I(e);t.l(f),f.forEach(b),l=B(i),N(s.$$.fragment,i),this.h()},h(){y(e,"class","wrapper svelte-uvwohj")},m(i,f){A(i,e,f),c[r].m(e,null),A(i,l,f),S(s,i,f),o=!0},p(i,[f]){let m=r;r=d(i),r===m?c[r].p(i,f):(Q(),V(c[m],1,1,()=>{c[m]=null}),J(),t=c[r],t?t.p(i,f):(t=c[r]=u[r](i),t.c()),k(t,1),t.m(e,null));const $={};f&1&&($.idRound=i[0]),f&8&&($.idTable=i[3]),!a&&f&4&&(a=!0,$.showModal=i[2],pe(()=>a=!1)),s.$set($)},i(i){o||(k(t),k(s.$$.fragment,i),o=!0)},o(i){V(t),V(s.$$.fragment,i),o=!1},d(i){i&&(b(e),b(l)),c[r].d(),H(s,i)}}}function ir(n,e,r){let t,l,s;x(n,te,h=>r(9,s=h));let{idRound:a}=e,o,u=-1,c,d;const p=me(!1);x(n,p,h=>r(13,l=h));function _(){Zt(a)}function i(h){r(3,u=h),o()}function f(h){l?(r(4,c="transitioning"),d=h):r(4,c=h)}function m(){r(4,c=d),p.set(!1)}const $=h=>i(h);function g(h){o=h,r(2,o)}return n.$$set=h=>{"idRound"in h&&r(0,a=h.idRound)},n.$$.update=()=>{n.$$.dirty&513&&r(1,t=s[a]),n.$$.dirty&2&&f(t.state)},[a,t,o,u,c,p,_,i,m,s,$,g]}class ur extends q{constructor(e){super(),Y(this,e,ir,or,U,{idRound:0})}}function Le(n){let e,r;return e=new ur({props:{idRound:n[1]}}),{c(){C(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){S(e,t,l),r=!0},p(t,l){const s={};l&2&&(s.idRound=t[1]),e.$set(s)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){V(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function cr(n){let e,r,t,l,s;t=new It({props:{items:n[2],fullWidth:!0,size:"sm",stCurrentId:be}});let a=n[0][n[1]]&&Le(n);return{c(){e=w("div"),r=w("div"),C(t.$$.fragment),l=M(),a&&a.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var u=I(e);r=E(u,"DIV",{class:!0});var c=I(r);N(t.$$.fragment,c),c.forEach(b),l=B(u),a&&a.l(u),u.forEach(b),this.h()},h(){y(r,"class","tabs svelte-1jljjmn"),y(e,"class","wrapper svelte-1jljjmn")},m(o,u){A(o,e,u),v(e,r),S(t,r,null),v(e,l),a&&a.m(e,null),s=!0},p(o,[u]){o[0][o[1]]?a?(a.p(o,u),u&3&&k(a,1)):(a=Le(o),a.c(),k(a,1),a.m(e,null)):a&&(Q(),V(a,1,1,()=>{a=null}),J())},i(o){s||(k(t.$$.fragment,o),k(a),s=!0)},o(o){V(t.$$.fragment,o),V(a),s=!1},d(o){o&&b(e),H(t),a&&a.d()}}}function fr(n,e,r){let t,l,s;x(n,Mt,o=>r(3,t=o)),x(n,te,o=>r(0,l=o)),x(n,be,o=>r(1,s=o)),wt.set("rounds");const a=[...new Array(t.rounds)].map((o,u)=>({id:u,text:Et({roundNum:u+1}),onClick:()=>be.set(u)}));return[l,s,a]}class Rr extends q{constructor(e){super(),Y(this,e,fr,cr,U,{})}}export{Rr as component};
